(this.webpackJsonpcert=this.webpackJsonpcert||[]).push([[0],{156:function(e,t,n){},307:function(e,t,n){},308:function(e,t,n){},324:function(e,t){},326:function(e,t){},336:function(e,t){},338:function(e,t){},363:function(e,t){},364:function(e,t){},370:function(e,t){},372:function(e,t){},389:function(e,t){},403:function(e,t){},501:function(e,t,n){},503:function(e,t,n){},504:function(e,t,n){},505:function(e,t,n){},506:function(e,t,n){},511:function(e,t,n){},542:function(e,t){},550:function(e,t){},571:function(e,t){},572:function(e,t){},769:function(e,t,n){},773:function(e,t,n){"use strict";n.r(t);n(302);var r=n(0),s=n.n(r),a=n(62),i=n.n(a),c=(n(307),n(79)),o=n(20),u=n(21),p=n(23),l=n(22),f=(n(308),n(1)),h=n.n(f),d=n(10),I=n(171);n(310);I.a.initializeApp({apiKey:"AIzaSyBVg-6cdqXuAnS2gECbjHlbJd_Lt8qyQWw",authDomain:"gxcert-21233.firebaseapp.com",projectId:"gxcert-21233",storageBucket:"gxcert-21233.appspot.com",messagingSenderId:"500830367528",appId:"1:500830367528:web:dfdb8fe5fa6b362d8faa1d",measurementId:"G-ZGY6X71Q2R"});var b=I.a,g=new b.auth.GoogleAuthProvider;function j(){return O.apply(this,arguments)}function O(){return(O=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.auth().signInWithPopup(g);case 2:return t=e.sent,e.abrupt("return",t.user.uid);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()}var x=n(127),v=n(91),m=n.n(v),C=new x("https://nodes.devnet.iota.org");function E(e){var t=new x("https://nodes.devnet.iota.org");return t.address=e.address,t.rsaKeyPair=function(e){var t=m.a.generateRSAKey(e,1024);return{privKey:t,pubKey:m.a.publicKeyString(t)}}(e.uid),t.profile=e.profile,t.cache=e.cache,t.uid=e.uid,t.seed=e.seed,t}function T(e){return new x("https://nodes.devnet.iota.org",e)}n(501);var _=n(2),S=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(_.jsx)("div",{className:"login-page",children:Object(_.jsx)("button",{className:"login-google",onClick:this.props.onClick,children:"Login with Google"})})}}]),n}(s.a.Component),N=(n(503),n(504),function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(_.jsx)("div",{className:"issue",children:Object(_.jsxs)("div",{className:"issue-wrapper",children:[Object(_.jsx)("h2",{className:"issue-title",children:"Issue Certificate"}),Object(_.jsx)("h5",{className:"issue-image-title issue-input-title",children:"Certificate Image"}),Object(_.jsx)("input",{type:"file",id:"issue-image",className:"issue-image issue-input",onChange:this.props.onChangeCertificateImage}),Object(_.jsx)("h5",{className:"issue-to-title issue-input-title",children:"Title"}),Object(_.jsx)("input",{type:"text",id:"issue-title",className:"issue-input",onChange:this.props.onChangeTitle}),Object(_.jsx)("br",{}),Object(_.jsx)("h5",{className:"issue-to-description issue-input-title",children:"Description"}),Object(_.jsx)("textarea",{id:"issue-description",className:"issue-description issue-input",onChange:this.props.onChangeDescription}),Object(_.jsx)("br",{}),Object(_.jsx)("h5",{className:"issue-to-title issue-input-title",children:"To"}),Object(_.jsx)("input",{type:"text",id:"issue-to",className:"issue-to issue-input",onChange:this.props.onChangeIssueTo}),Object(_.jsx)("br",{}),Object(_.jsx)("button",{className:"issue-button",id:"issue-button",onClick:this.props.onClickIssueButton,children:"Issue"})]})})}}]),n}(s.a.Component)),k=(n(505),function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).onClickUpdateButton=e.onClickUpdateButton,r}return Object(u.a)(n,[{key:"render",value:function(){return Object(_.jsx)("div",{className:"setting",children:Object(_.jsxs)("div",{className:"setting-wrapper",children:[Object(_.jsx)("h2",{className:"setting-title",children:"User Settings"}),Object(_.jsx)("h5",{className:"setting-name-title setting-input-title",children:"Your Name"}),Object(_.jsx)("input",{type:"text",id:"setting-name",className:"setting-name setting-input",onChange:this.props.onChangeName,defaultValue:this.props.name}),Object(_.jsx)("h5",{className:"setting-icon-title setting-input-title",children:"Icon"}),Object(_.jsx)("input",{type:"file",id:"setting-icon",className:"setting-icon setting-input",onChange:this.props.onChangeIcon}),Object(_.jsx)("button",{className:"setting-button",id:"setting-button",onClick:this.props.onClickUpdateButton,children:"Update"})]})})}}]),n}(s.a.Component)),U=n(56),w=n(30),P=(n(506),function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"copyId",value:function(){!function(e){var t=document.createElement("textarea");t.textContent=e;var n=document.getElementsByTagName("body")[0];n.appendChild(t),t.select(),document.execCommand("copy"),n.removeChild(t)}(this.props.address),this.props.onCopyId()}},{key:"render",value:function(){return Object(_.jsxs)("div",{className:"myinfo",children:[Object(_.jsx)("img",{className:"myinfo-image",alt:"GxCert icon",src:this.props.icon}),Object(_.jsxs)("div",{className:"myinfo-right",children:[Object(_.jsx)("div",{className:"myinfo-address",children:"Your ID: "+this.props.address}),Object(_.jsxs)("div",{className:"myinfo-buttons",children:[Object(_.jsx)("a",{href:"javascript:void(0)",className:"copy-button",onClick:this.copyId.bind(this),children:"Copy ID"})," | ",Object(_.jsx)(U.b,{className:"myinfo-register",to:"/user",children:"Update your user info"})," | ",Object(_.jsx)("a",{href:"javascript:void(0)",className:"export-button",onClick:this.props.exportAccount,children:"Export Account"})," | ",Object(_.jsx)("a",{href:"javascript:void(0)",className:"logout-button",onClick:this.props.logout,children:"Logout"})]})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{address:e.address,icon:e.icon}}}]),n}(s.a.Component)),A=n(295),G=n.n(A),R=function(){return Object(_.jsx)(G.a,{type:"spin",style:{marginLeft:"auto",marginRight:"auto",width:150}})},L=n(776),F=n(777),D=(n(511),function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=null;return this.props.isLoading?e=Object(_.jsx)(L.a,{show:this.props.show,animation:!0,children:Object(_.jsxs)(L.a.Body,{children:[null!==this.props.message?Object(_.jsx)("p",{className:"message",children:this.props.message}):"",Object(_.jsx)(R,{})]})}):null===this.props.message&&null===this.props.errorMessage||(e=Object(_.jsxs)(L.a,{show:this.props.show,animation:!0,children:[Object(_.jsxs)(L.a.Body,{children:[Object(_.jsx)("p",{className:"message",children:this.props.message}),Object(_.jsx)("p",{className:"error-message",children:this.props.errorMessage})]}),Object(_.jsx)(L.a.Footer,{children:Object(_.jsx)(F.a,{variant:"primary",onClick:this.props.closeModal,children:"Back"})})]})),Object(_.jsx)("div",{className:"modal",children:e})}}]),n}(s.a.Component)),M=(n(156),n(108)),B=n(297)({host:"ipfs.infura.io",port:5001,protocol:"https"});function H(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(d.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.add(t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n.path);case 5:throw new Error("couldn't post the certificate to IPFS network.");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return W.apply(this,arguments)}function W(){return(W=Object(d.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.add(t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n.path);case 5:throw new Error("couldn't post the text to IPFS network.");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){var t=new Blob([e]);return(window.URL||window.webkitURL).createObjectURL(t)}var V=function(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer};function X(e){var t,n,r,s,a,i,c,o,u,p,l,f,d,I,b,g;return h.a.async((function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,h.a.awrap(B.get(e));case 2:t=j.sent,n=!0,r=!1,j.prev=5,a=Object(M.a)(t);case 7:return j.next=9,h.a.awrap(a.next());case 9:return i=j.sent,n=i.done,j.next=13,h.a.awrap(i.value);case 13:if(c=j.sent,n){j.next=56;break}o=c,console.log(o),u=new ArrayBuffer(0),p=!0,l=!1,j.prev=20,d=Object(M.a)(o.content);case 22:return j.next=24,h.a.awrap(d.next());case 24:return I=j.sent,p=I.done,j.next=28,h.a.awrap(I.value);case 28:if(b=j.sent,p){j.next=35;break}u=V(u,b);case 32:p=!0,j.next=22;break;case 35:j.next=41;break;case 37:j.prev=37,j.t0=j.catch(20),l=!0,f=j.t0;case 41:if(j.prev=41,j.prev=42,p||null==d.return){j.next=46;break}return j.next=46,h.a.awrap(d.return());case 46:if(j.prev=46,!l){j.next=49;break}throw f;case 49:return j.finish(46);case 50:return j.finish(41);case 51:return g=J(u),j.abrupt("return",g);case 53:n=!0,j.next=7;break;case 56:j.next=62;break;case 58:j.prev=58,j.t1=j.catch(5),r=!0,s=j.t1;case 62:if(j.prev=62,j.prev=63,n||null==a.return){j.next=67;break}return j.next=67,h.a.awrap(a.return());case 67:if(j.prev=67,!r){j.next=70;break}throw s;case 70:return j.finish(67);case 71:return j.finish(62);case 72:return j.abrupt("return",null);case 73:case"end":return j.stop()}}),null,null,[[5,58,62,72],[20,37,41,51],[42,,46,50],[63,,67,71]],Promise)}function z(e){var t,n,r,s,a,i;for(t="",r=e.length,n=0;n<r;)switch((s=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(s);break;case 12:case 13:a=e[n++],t+=String.fromCharCode((31&s)<<6|63&a);break;case 14:a=e[n++],i=e[n++],t+=String.fromCharCode((15&s)<<12|(63&a)<<6|(63&i)<<0)}return t}function Z(e){return q.apply(this,arguments)}function q(){return(q=Object(d.a)(h.a.mark((function e(t){var n,r,s,a,i,c,o,u,p,l,f,d,I,b,g;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.get(t);case 2:n=e.sent,r=!0,s=!1,e.prev=5,i=Object(M.a)(n);case 7:return e.next=9,i.next();case 9:return c=e.sent,r=c.done,e.next=13,c.value;case 13:if(o=e.sent,r){e.next=55;break}u=o,console.log(u),p=new ArrayBuffer(0),l=!0,f=!1,e.prev=20,I=Object(M.a)(u.content);case 22:return e.next=24,I.next();case 24:return b=e.sent,l=b.done,e.next=28,b.value;case 28:if(g=e.sent,l){e.next=35;break}p=V(p,g);case 32:l=!0,e.next=22;break;case 35:e.next=41;break;case 37:e.prev=37,e.t0=e.catch(20),f=!0,d=e.t0;case 41:if(e.prev=41,e.prev=42,l||null==I.return){e.next=46;break}return e.next=46,I.return();case 46:if(e.prev=46,!f){e.next=49;break}throw d;case 49:return e.finish(46);case 50:return e.finish(41);case 51:return e.abrupt("return",z(new Uint8Array(p)));case 52:r=!0,e.next=7;break;case 55:e.next=61;break;case 57:e.prev=57,e.t1=e.catch(5),s=!0,a=e.t1;case 61:if(e.prev=61,e.prev=62,r||null==i.return){e.next=66;break}return e.next=66,i.return();case 66:if(e.prev=66,!s){e.next=69;break}throw a;case 69:return e.finish(66);case 70:return e.finish(61);case 71:return e.abrupt("return",null);case 72:case"end":return e.stop()}}),e,null,[[5,57,61,71],[20,37,41,51],[42,,46,50],[62,,66,70]])})))).apply(this,arguments)}n(131);function Q(e){return new Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(){t(r.result)}),!1),r.readAsDataURL(e)}))}function $(e){for(var t=atob(e.split(",")[1]),n=e.match(/(:)([a-z/]+)(;)/)[2],r=0,s=t.length,a=new Uint8Array(s);s>r;r++)a[r]=t.charCodeAt(r);return new Blob([a],{type:n})}var ee=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(u.a)(n,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return Object(_.jsxs)("div",{className:"cert-cell",children:[Object(_.jsx)("img",{src:this.props.certificate.imageUrl?this.props.certificate.imageUrl:"",className:"cert-cell-image",alt:"certificate"}),Object(_.jsxs)("div",{className:"cert-cell-info",children:[Object(_.jsx)("p",{className:"cert-cell-title",children:(e=this.props.certificate.titleInIpfs,e?e.length>16?e.substr(0,16)+"...":e:"")}),Object(_.jsxs)("p",{className:"cert-cell-issueser",children:[this.props.certificate.byProfile?"by "+this.props.certificate.byProfile.name.substr(0,16):""," ",this.props.certificate.toProfile?"to "+this.props.certificate.toProfile.name.substr(0,16):""]}),Object(_.jsxs)("p",{className:"cert-cell-date",children:["at ",y(new Date(1e3*this.props.certificate.time))]})]})]});var e}}]),n}(s.a.Component),te=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getInfoOfCertificates()}},{key:"render",value:function(){var e=this;return Object(_.jsxs)("div",{className:"certificates",children:[0===this.props.certificates.length?Object(_.jsx)("p",{className:"certificate-not-found",children:"There are no certificates."}):"",this.props.certificates.map((function(t,n){return Object(_.jsx)(U.b,{to:"/"+e.props.path+"/"+n,children:Object(_.jsx)(ee,{certificate:t})})}))]})}}]),n}(s.a.Component),ne=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(_.jsxs)("div",{className:"mycertificates",children:[Object(_.jsxs)("h2",{className:"mycertificates-title",children:[Object(_.jsx)("a",{href:"javascript:void(0)",onClick:this.props.changeTabToMyCertificates,children:" My Certificates"}),Object(_.jsx)("span",{onClick:this.props.getCertificates,children:"\ud83d\udd03"})," ",Object(_.jsx)("a",{href:"javascript:void(0)",onClick:this.props.changeTabToIssueser,children:"Certificates I issuesed"}),Object(_.jsx)("span",{onClick:this.props.getCertificatesIIssuesed,children:"\ud83d\udd03"})]}),this.props.isLoading?Object(_.jsx)(R,{}):"",this.props.isLoading||0!==this.props.tab?"":Object(_.jsx)(te,{certificates:this.props.certificates,path:"certs",getInfoOfCertificates:this.props.getInfoOfCertificates}),this.props.isLoading||1!==this.props.tab?"":Object(_.jsx)(te,{certificates:this.props.certificatesIIssuesed,getInfoOfCertificates:this.props.getInfoOfCertificatesIIssuesed,path:"issuesed"})]})}}]),n}(s.a.Component),re=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){0===this.props.certificates.length&&this.props.getCertificates()}},{key:"render",value:function(){return Object(_.jsxs)("div",{className:"show",children:[Object(_.jsx)(P,{address:this.props.address,icon:this.props.icon,exportAccount:this.props.exportAccount,onCopyId:this.props.onCopyId,logout:this.props.logout}),Object(_.jsx)(ne,{certificates:this.props.certificates,certificatesIIssuesed:this.props.certificatesIIssuesed,isLoading:this.props.isLoading,getCertificates:this.props.getCertificates,getCertificatesIIssuesed:this.props.getCertificatesIIssuesed,changeTabToIssueser:this.props.changeTabToIssueser,changeTabToMyCertificates:this.props.changeTabToMyCertificates,tab:this.props.tab,getInfoOfCertificates:this.props.getInfoOfCertificates,getInfoOfCertificatesIIssuesed:this.props.getInfoOfCertificatesIIssuesed})]})}}]),n}(s.a.Component),se=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(_.jsx)("div",{className:"not-found",children:Object(_.jsx)("h2",{children:"404 Not Found."})})}}]),n}(s.a.Component),ae=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(o.a)(this,n),(r=t.call(this,e)).client=e.client;var s=parseInt(e.match.params.index);return r.index=s,r.state={certificates:e.certificates,index:s,verified:null,title:"",imageUrl:""},r}return Object(u.a)(n,[{key:"back",value:function(){this.state.index>0&&(this.setState({index:this.state.index-1,verified:null}),this.loadDetail())}},{key:"next",value:function(){this.state.index<this.state.certificates.length-1&&(this.setState({index:this.state.index+1,verified:null}),this.loadDetail())}},{key:"loadDetail",value:function(){this.loadImage(),this.loadTitle(),this.loadDescription()}},{key:"loadImage",value:function(){var e=Object(d.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.index<0||this.props.certificates.length<=this.state.index)){e.next=2;break}return e.abrupt("return");case 2:if(!(t=this.state.certificates[this.state.index]).imageUrl){e.next=6;break}return this.setState({imageUrl:t.imageUrl}),e.abrupt("return");case 6:return e.prev=6,e.next=9,X(t.ipfs);case 9:n=e.sent,e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(6),console.error(e.t0),e.abrupt("return");case 16:this.setState({imageUrl:n});case 17:case"end":return e.stop()}}),e,this,[[6,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadTitle",value:function(){var e=Object(d.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.index<0||this.props.certificates.length<=this.state.index)){e.next=2;break}return e.abrupt("return");case 2:if(!(t=this.state.certificates[this.state.index]).titleInIpfs){e.next=6;break}return this.setState({titleInIpfs:t.titleInIpfs}),e.abrupt("return");case 6:return e.prev=6,e.next=9,Z(t.title);case 9:n=e.sent,e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(6),console.error(e.t0),this.setState({titleInIpfs:""}),e.abrupt("return");case 17:this.setState({titleInIpfs:n});case 18:case"end":return e.stop()}}),e,this,[[6,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadDescription",value:function(){var e=Object(d.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.index<0||this.props.certificates.length<=this.state.index)){e.next=2;break}return e.abrupt("return");case 2:if(!(t=this.state.certificates[this.state.index]).descriptionInIpfs){e.next=6;break}return this.setState({descriptionInIpfs:t.descriptionInIpfs}),e.abrupt("return");case 6:return e.prev=6,e.next=9,Z(t.description);case 9:n=e.sent,e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(6),console.error(e.t0),this.setState({descriptionInIpfs:""}),e.abrupt("return");case 17:this.setState({descriptionInIpfs:n});case 18:case"end":return e.stop()}}),e,this,[[6,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"verifyCertificate",value:function(){var e=Object(d.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.client,n=this.state.certificates[this.state.index],r=t.verifyCertificate(n,t.address),this.setState({verified:r});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadDetail()}},{key:"render",value:function(){if(this.state.index<0||this.props.certificates.length<=this.state.index)return Object(_.jsx)(se,{});var e=this.props.certificates[this.state.index];return Object(_.jsxs)("div",{className:"cert-view",children:[Object(_.jsxs)("div",{className:"cert-view-top",children:[Object(_.jsx)("button",{className:"back",onClick:this.back.bind(this),children:"\uff1c"}),Object(_.jsx)("img",{src:this.state.imageUrl,className:"cert-view-image",alt:"GxCert"}),Object(_.jsx)("button",{className:"next",onClick:this.next.bind(this),children:"\uff1e"})]}),Object(_.jsxs)("div",{className:"cert-view-bottom",children:[Object(_.jsx)("button",{onClick:this.verifyCertificate.bind(this),className:"verify-button",children:"Verify"}),Object(_.jsxs)("p",{className:"cert-view-title",children:[this.state.verified?"\u2705 This certificate is valid.":"",this.state.verified||null===this.state.verified?"":"\u274c This certificate is invalid.",Object(_.jsx)("br",{}),this.state.titleInIpfs,Object(_.jsx)("br",{}),"by ",Object(_.jsx)(U.b,{to:"/users/"+e.by,children:e.issueserName?e.issueserName:e.by.substr(0,16)})," ",e.to?"to "+e.to.substr(0,16):""," at ",y(new Date(1e3*e.time))]}),Object(_.jsx)("p",{className:"cert-view-description",children:this.state.descriptionInIpfs})]})]})}}]),n}(s.a.Component),ie=(n(769),function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.fetchProfile(e),this.props.getCertificates(e)}},{key:"render",value:function(){var e=this;if(this.props.isNotFound)return Object(_.jsx)(se,{});console.log(this.props);var t=this.props.match.params.id;return Object(_.jsxs)("div",{className:"user",children:[Object(_.jsx)("img",{src:this.props.imageUrl,className:"user-icon"}),Object(_.jsx)("h2",{className:"user-name",children:this.props.name}),Object(_.jsx)(ne,{isLoading:this.props.isLoading,certificates:this.props.certificates,certificatesIIssuesed:this.props.certificatesIIssuesed,getInfoOfCertificates:this.props.getInfoOfCertificates,getInfoOfCertificatesIIssuesed:this.props.getInfoOfCertificatesIIssuesed,getCertificates:this.props.getCertificates,getCertificatesIIssuesed:this.props.getCertificatesIIssuesed,changeTabToIssueser:function(){return e.props.changeTabToIssueser(t)},changeTabToMyCertificates:this.props.changeTabToMyCertificates,tab:this.props.tab})]})}}]),n}(s.a.Component)),ce=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).myPageRef=s.a.createRef(),e.state={myPageIsLoading:!0,issuePageIsLoading:!1,certificates:[],message:null},e}return Object(u.a)(n,[{key:"closeModal",value:function(){this.setState({issuePageIsLoading:!1,message:null})}},{key:"render",value:function(){var e=this,t=this;console.log(t.props);var n=this.props.state.isLoading||null!==this.props.state.message||null!==this.props.state.errorMessage,r=this.props.state.isLoading,s=this.props.state.myProfile,a=this.props.state.client,i="";null!==a&&null!==a.profile&&(i=a.profile.name);var o="";s&&(o=s.icon);var u=Object(_.jsx)(S,{onClick:this.props.loginWithGoogle}),p=Object(_.jsxs)("div",{className:"main",children:[Object(_.jsxs)("header",{children:[Object(_.jsx)("h2",{className:"brand-logo",children:Object(_.jsx)("a",{href:"/",children:"GxCert"})}),Object(_.jsx)(U.b,{to:"/issue",className:"header-issue-button header-button",children:"Issue"}),Object(_.jsx)(U.b,{to:"/",className:"header-show-button header-button",children:null!==a?a.address.substr(0,6)+"...":"Profile"})]}),Object(_.jsx)("div",{className:"main",children:Object(_.jsxs)(w.c,{children:[Object(_.jsx)(w.a,{exact:!0,path:"/",render:function(){return Object(_.jsx)(re,{address:a.address,isLoading:t.props.state.myPageIsLoading,certificates:t.props.state.certificates,certificatesIIssuesed:t.props.state.certificatesIIssuesed,icon:o,getCertificates:t.props.getCertificates,getCertificatesIIssuesed:t.props.getCertificatesIIssuesed,exportAccount:t.props.exportAccount,onCopyId:t.props.onCopyId,getInfoOfCertificates:t.props.getInfoOfCertificates,getInfoOfCertificatesIIssuesed:t.props.getInfoOfCertificatesIIssuesed,changeTabToIssueser:t.props.changeTabToIssueser,changeTabToMyCertificates:t.props.changeTabToMyCertificates,tab:t.props.state.tabInMyPage,logout:t.props.logout})}}),Object(_.jsx)(w.a,{exact:!0,path:"/issue",render:function(){return Object(_.jsx)(N,{onClickIssueButton:e.props.issue,onChangeCertificateImage:e.props.onChangeCertificateImage,onChangeIssueTo:e.props.onChangeIssueTo,onChangeTitle:e.props.onChangeTitle,onChangeDescription:e.props.onChangeDescription})}}),Object(_.jsx)(w.a,{exact:!0,path:"/user",render:function(){return Object(_.jsx)(k,{onClickUpdateButton:e.props.updateUserSetting,onChangeName:e.props.onChangeName,onChangeIcon:e.props.onChangeIcon,name:i})}}),Object(_.jsx)(w.a,{exact:!0,path:"/users/:id",render:function(e){return Object(_.jsx)(ie,Object(c.a)(Object(c.a)({},e),{},{profile:t.props.state.profileInUserPage,fetchProfile:t.props.fetchProfileInUserPage,imageUrl:t.props.state.iconInUserPage,name:t.props.state.nameInUserPage,isLoading:t.props.state.userPageIsLoading,certificates:t.props.state.certificatesInUserPage,certificatesIIssuesed:t.props.state.certificatesIIssuesedInUserPage,getCertificates:t.props.getCertificatesInUserPage,getCertificatesIIssuesed:t.props.getCertificatesIIssuesedInUserPage,getInfoOfCertificates:t.props.getInfoOfCertificatesInUserPage,getInfoOfCertificatesIIssuesed:t.props.getInfoOfCertificatesIIssuesedInUserPage,changeTabToIssueser:t.props.changeTabInUserPageToIssueser,changeTabToMyCertificates:t.props.changeTabInUserPageToMyCertificates,tab:t.props.state.tabInUserPage,isNotFound:t.props.state.userIsNotFound}))}}),Object(_.jsx)(w.a,{exact:!0,path:"/issuesed/:index",render:function(e){return Object(_.jsx)(ae,Object(c.a)(Object(c.a)({},e),{},{certificates:t.props.state.certificatesIIssuesed,client:C}))}}),Object(_.jsx)(w.a,{exact:!0,path:"/certs/:index",render:function(e){return Object(_.jsx)(ae,Object(c.a)(Object(c.a)({},e),{},{certificates:t.props.state.certificates,client:C}))}})]})}),Object(_.jsx)(D,{show:n,closeModal:this.props.closeModal,isLoading:r,message:this.props.state.message,errorMessage:this.props.state.errorMessage})]});return Object(_.jsxs)("div",{className:"App",children:[this.props.location.pathname.startsWith("/users/")||null!==a?p:u,Object(_.jsx)(D,{show:n,closeModal:this.props.closeModal,isLoading:r,message:this.props.state.message,errorMessage:this.props.state.errorMessage})]})}}]),n}(s.a.Component),oe=Object(w.f)(ce),ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,778)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),a(e),i(e)}))},pe=n(298),le=n(71);function fe(e,t,n,r){return he.apply(this,arguments)}function he(){return(he=Object(d.a)(h.a.mark((function e(t,n,r,s){var a,i,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getCertificates(n);case 3:a=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),s(e.t0),e.abrupt("return");case 10:r(a),i=Object(le.a)(a);try{for(o=function(){var e=c.value;X(e.ipfs).then((function(t){e.imageUrl=t,r(a)})).catch((function(e){console.error(e)})),Z(e.title).then((function(t){e.titleInIpfs=t,r(a)})).catch((function(e){console.error(e)})),t.getProfile(e.by).then((function(t){e.byProfile=t})).catch((function(e){console.error(e)})),e.to&&t.getProfile(e.to).then((function(t){e.toProfile=t})).catch((function(e){console.error(e)}))},i.s();!(c=i.n()).done;)o()}catch(u){i.e(u)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function de(e,t,n,r){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(d.a)(h.a.mark((function e(t,n,r,s){var a,i,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getCertificatesIIssuesed(n);case 3:a=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),s(e.t0),e.abrupt("return");case 10:r(a),i=Object(le.a)(a);try{for(o=function(){var e=c.value;X(e.ipfs).then((function(t){e.imageUrl=t,r(a)})).catch((function(e){console.error(e)})),Z(e.title).then((function(t){e.titleInIpfs=t,r(a)})).catch((function(e){console.error(e)})),t.getProfile(e.by).then((function(t){e.byProfile=t,r(a)})).catch((function(e){console.error(e)})),e.to&&t.getProfile(e.to).then((function(t){e.toProfile=t,r(a)})).catch((function(e){console.error(e)}))},i.s();!(c=i.n()).done;)o()}catch(u){i.e(u)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var be=function(){return function(){var e=Object(d.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"START_GETTING_CERTIFICATES",payload:null}),fe(r=E(n().state.client),r.address,(function(e){t({type:"GET_CERTIFICATES",payload:e})}),(function(e){t({type:"GET_CERTIFICATES",payload:null,error:e})}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ge=function(){return function(){var e=Object(d.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"START_GETTING_CERTIFICATES_I_ISSUESED",payload:null}),de(r=E(n().state.client),r.address,(function(e){t({type:"GET_CERTIFICATES_I_ISSUESED",payload:e})}),(function(e){t({type:"GET_CERTIFICATES_I_ISSUESED",payload:null,error:e})}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},je=function(e){return function(){var t=Object(d.a)(h.a.mark((function t(n,r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"START_GETTING_CERTIFICATES_I_ISSUESED_IN_USER_PAGE",payload:null}),de(C,e,(function(e){n({type:"GET_CERTIFICATES_I_ISSUESED_IN_USER_PAGE",payload:e})}),(function(e){n({type:"GET_CERTIFICATES_I_ISSUESED_IN_USER_PAGE",payload:[],error:e})}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Oe=n(175),ye=n(57),xe={uid:null,isLoading:!1,certificateImage:null,issueTo:null,certificates:[],certificatesIIssuesed:[],myPageIsLoading:!1,myProfile:null,name:"",icon:null,title:"",errorMessage:null,message:null,tabInMyPage:0,iconInUserPage:null,nameInUserPage:null,profileInUserPage:null,userPageIsLoading:!1,certificatesInUserPage:[],certificatesIIssuesedInUserPage:[],tabInUserPage:0,client:null,address:null,description:"",userIsNotFound:!1};var ve=n(300),me=n(176),Ce=n(301),Ee={key:"root",storage:n.n(Ce).a},Te=Object(me.a)(Ee,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_CLICK_ISSUE_BUTTON":return Object.assign({},e,{isLoading:!0,message:"Issuesing the certificate..."});case"START_UPDATE_USER_SETTING":return Object.assign({},e,{isLoading:!0,message:"Updating your setting..."});case"UPDATE_USER_SETTING":return e.name&&""!==e.name.trim()||e.icon?t.error?Object.assign({},e,{isLoading:!1,message:null,errorMessage:"Failed to update your setting."}):Object.assign({},e,{isLoading:!1,message:"Successfully updated your setting."}):Object.assign({},e,{isLoading:!1,message:null,errorMessage:"The input fields are empty."});case"ISSUE":return null===e.issueTo||null===e.certificateImage||""===e.title.trim()?Object.assign({},e,{isLoading:!1,message:null,errorMessage:"Fill the input fields."}):t.error?Object.assign({},e,{isLoading:!1,message:null,errorMessage:"Failed to issue the certificate."}):Object.assign({},e,{isLoading:!1,message:"Successfully issuesed the certificate."});case"GET_CERTIFICATES":return t.error?Object.assign({},e,{myPageIsLoading:!1,errorMessage:"Failed to fetch your certificates."}):Object.assign({},e,{certificates:t.payload,myPageIsLoading:!1});case"GET_CERTIFICATES_I_ISSUESED":return t.error?Object.assign({},e,{myPageIsLoading:!1,errorMessage:"Failed to fetch the certificates that you issuesed."}):Object.assign({},e,{certificatesIIssuesed:t.payload,myPageIsLoading:!1});case"GET_CERTIFICATES_IN_USER_PAGE":return t.error?Object.assign({},e,{certificatesInUserPage:[],userPageIsLoading:!1}):Object.assign({},e,{certificatesInUserPage:t.payload,userPageIsLoading:!1});case"GET_CERTIFICATES_I_ISSUESED_IN_USER_PAGE":return t.error?Object.assign({},e,{certificatesIIssuesedInUserPage:[],userPageIsLoading:!1}):Object.assign({},e,{certificatesIIssuesedInUserPage:t.payload,userPageIsLoading:!1});case"ON_CHANGE_CERTIFICATE_IMAGE":return Object.assign({},e,{certificateImage:t.payload});case"ON_CHANGE_ISSUE_TO":return Object.assign({},e,{issueTo:t.payload});case"ON_CHANGE_TITLE":return Object.assign({},e,{title:t.payload});case"START_GETTING_CERTIFICATES":return Object.assign({},e,{myPageIsLoading:!0,tabInMyPage:0});case"START_GETTING_CERTIFICATES_I_ISSUESED":return Object.assign({},e,{myPageIsLoading:!0,tabInMyPage:1});case"START_GETTING_CERTIFICATES_IN_USER_PAGE":return Object.assign({},e,{userPageIsLoading:!0,tabInUserPage:0});case"START_GETTING_CERTIFICATES_I_ISSUESED_IN_USER_PAGE":return Object.assign({},e,{userPageIsLoading:!0,tabInUserPage:1});case"GET_MYPROFILE":return Object.assign({},e,{myProfile:t.payload});case"ON_CHANGE_NAME":return Object.assign({},e,{name:t.payload});case"ON_CHANGE_DESCRIPTION":return Object.assign({},e,{description:t.payload});case"ON_CHANGE_ICON":return Object.assign({},e,{icon:t.payload});case"CLOSE_MODAL":return Object.assign({},e,{message:null,errorMessage:null});case"ON_COPY_ID":return Object.assign({},e,{message:"Successfully copied your ID"});case"CHANGE_TAB_TO_ISSUESER":return Object.assign({},e,{tabInMyPage:1});case"CHANGE_TAB_TO_MY_CERTIFICATES":return Object.assign({},e,{tabInMyPage:0});case"FETCH_PROFILE_IN_USER_PAGE":return t.error?Object.assign({},e,{profileInUserPage:null,nameInUserPage:null,userIsNotFound:!0}):Object.assign({},e,{profileInUserPage:t.payload,nameInUserPage:t.payload.name,userIsNotFound:!1});case"FETCH_ICON_IN_USER_PAGE":return Object.assign({},e,{iconInUserPage:t.payload});case"LOGOUT":return xe;case"INITIALIZE_CLIENT":return Object.assign({},e,{client:t.payload,isLoading:!1});case"LOADING":return Object.assign({},e,{isLoading:!0});default:return e}})),_e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ye.d,Se=Object(ye.e)(Object(ye.c)({state:Te}),xe,_e(Object(ye.a)(ve.a))),Ne=Object(me.b)(Se),ke=Se;var Ue=Object(Oe.b)((function(e,t){return e}),(function(e,t){return{getCertificates:function(){e(be())},getCertificatesIIssuesed:function(){e(ge())},issue:function(){e(function(){var e=Object(d.a)(h.a.mark((function e(t,n){var r,s,a,i,c,o,u,p,l,f,d,I;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:"ON_CLICK_ISSUE_BUTTON",payload:null,error:null}),r=E(n().state.client),s=n().state,a=s.issueTo,i=s.certificateImage,c=s.title.trim(),o=s.description.trim(),null!==a&&null!==i&&""!==c){e.next=10;break}return t({type:"ISSUE",payload:null,error:new Error("The certificate image or address is not set.")}),e.abrupt("return");case 10:return u=null,e.prev=11,e.next=14,Q(i);case 14:return p=e.sent,l=$(p),e.next=18,H(l);case 18:u=e.sent,e.next=26;break;case 21:return e.prev=21,e.t0=e.catch(11),console.error(e.t0),t({type:"ISSUE",payload:null,error:e.t0}),e.abrupt("return");case 26:return f=null,e.prev=27,e.next=30,K(c);case 30:f=e.sent,e.next=38;break;case 33:return e.prev=33,e.t1=e.catch(27),console.error(e.t1),t({type:"ISSUE",payload:null,error:e.t1}),e.abrupt("return");case 38:return d=null,e.prev=39,e.next=42,K(o);case 42:d=e.sent,e.next=50;break;case 45:return e.prev=45,e.t2=e.catch(39),console.error(e.t2),t({type:"ISSUE",payload:null,error:e.t2}),e.abrupt("return");case 50:return e.prev=50,I=r.createCertificateObject(f,d,u,a),e.next=54,r.issueCertificate(I,a);case 54:e.next=61;break;case 56:return e.prev=56,e.t3=e.catch(50),console.log(e.t3),t({type:"ISSUE",payload:null,error:e.t3}),e.abrupt("return");case 61:t({type:"ISSUE",payload:null,error:null});case 62:case"end":return e.stop()}}),e,null,[[11,21],[27,33],[39,45],[50,56]])})));return function(t,n){return e.apply(this,arguments)}}())},onChangeIssueTo:function(t){e(function(e){return function(){var t=Object(d.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"ON_CHANGE_ISSUE_TO",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},onChangeCertificateImage:function(t){e(function(e){return function(){var t=Object(d.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"ON_CHANGE_CERTIFICATE_IMAGE",payload:e.target.files[0]});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},getMyProfile:function(){e(function(){var e=Object(d.a)(h.a.mark((function e(t,n){var r,s,a,i,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().state.client,e.prev=1,e.next=4,r.getProfile(r.address);case 4:s=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return");case 11:if(a=s.icon,i=null,!a){e.next=23;break}return e.prev=14,e.next=17,X(a);case 17:i=e.sent,e.next=23;break;case 20:e.prev=20,e.t1=e.catch(14),i=null;case 23:if(s.icon=i,c=s.name,o=null,!c){e.next=36;break}return e.prev=27,e.next=30,Z(c);case 30:o=e.sent,e.next=36;break;case 33:e.prev=33,e.t2=e.catch(27),o=null;case 36:s.nameInIpfs=o,t({type:"GET_MYPROFILE",payload:s});case 38:case"end":return e.stop()}}),e,null,[[1,7],[14,20],[27,33]])})));return function(t,n){return e.apply(this,arguments)}}())},onChangeName:function(t){e(function(e){return function(){var t=Object(d.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"ON_CHANGE_NAME",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},onChangeIcon:function(t){e(function(e){return function(){var t=Object(d.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"ON_CHANGE_ICON",payload:e.target.files[0]});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},onChangeTitle:function(t){e(function(e){return function(){var t=Object(d.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"ON_CHANGE_TITLE",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},onChangeDescription:function(t){e(function(e){return function(){var t=Object(d.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"ON_CHANGE_DESCRIPTION",payload:e.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},updateUserSetting:function(){e(function(){var e=Object(d.a)(h.a.mark((function e(t,n){var r,s,a,i,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:"START_UPDATE_USER_SETTING",payload:null}),r=E(n().state.client),(s=n().state).name&&""!==s.name.trim()||s.icon){e.next=6;break}return t({type:"UPDATE_USER_SETTING",payload:null,error:new Error("The input fields are empty.")}),e.abrupt("return");case 6:if(null===s.name||""===s.name.trim()){e.next=27;break}return a=s.name.trim(),e.prev=8,e.next=11,K(a);case 11:a=e.sent,e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(8),t({type:"UPDATE_USER_SETTING",payload:null,error:e.t0}),e.abrupt("return");case 18:return e.prev=18,e.next=21,r.registerName(a);case 21:e.next=27;break;case 23:return e.prev=23,e.t1=e.catch(18),t({type:"UPDATE_USER_SETTING",payload:null,error:e.t1}),e.abrupt("return");case 27:if(null===s.icon){e.next=45;break}return i=null,e.prev=29,e.next=32,Q(s.icon);case 32:return c=e.sent,o=$(c),e.next=36,H(o);case 36:return i=e.sent,e.next=39,r.registerIcon(i);case 39:e.next=45;break;case 41:return e.prev=41,e.t2=e.catch(29),t({type:"UPDATE_USER_SETTING",payload:null,error:e.t2}),e.abrupt("return");case 45:t({type:"UPDATE_USER_SETTING",payload:null,error:null});case 46:case"end":return e.stop()}}),e,null,[[8,14],[18,23],[29,41]])})));return function(t,n){return e.apply(this,arguments)}}())},exportAccount:function(t){e(function(e){return function(){var t=Object(d.a)(h.a.mark((function t(n,r){var s,a,i,c,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=E(r().state.client),a=s.uid,i=JSON.stringify({uid:a}),c=new Blob([i],{type:"application/json"}),(o=e.target).download="account.json",o.href=window.URL.createObjectURL(c);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))},closeModal:function(){e(function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLOSE_MODAL",payload:null});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},onCopyId:function(){e(function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"ON_COPY_ID",payload:null});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getCertificatesInUserPage:function(t){e(function(e){return function(){var t=Object(d.a)(h.a.mark((function t(n,r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"START_GETTING_CERTIFICATES_IN_USER_PAGE",payload:null}),fe(C,e,(function(e){n({type:"GET_CERTIFICATES_IN_USER_PAGE",payload:e})}),(function(e){n({type:"GET_CERTIFICATES_IN_USER_PAGE",payload:[],error:e})}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))},getCertificatesIIssuesedInUserPage:function(t){e(je(t))},changeTabToIssueser:function(){e(ge())},changeTabToMyCertificates:function(){e(be())},changeTabInUserPageToIssueser:function(t){e(je(t))},changeTabInUserPageToMyCertificates:function(){e(function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CHANGE_TAB_IN_USER_PAGE_TO_MY_CERTIFICATES",payload:null});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},fetchProfileInUserPage:function(t){var n;e((n=t,function(){var e=Object(d.a)(h.a.mark((function e(t,r){var s,a,i,c,o,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=C){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,s.getProfile(n);case 6:a=e.sent,e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),t({type:"FETCH_PROFILE_IN_USER_PAGE",payload:null,error:e.t0}),e.abrupt("return");case 14:if(i=a.name,c=null,!i){e.next=26;break}return e.prev=17,e.next=20,Z(i);case 20:c=e.sent,e.next=26;break;case 23:e.prev=23,e.t1=e.catch(17),c=null;case 26:if(a.nameInIpfs=c,t({type:"FETCH_PROFILE_IN_USER_PAGE",payload:a}),o=a.icon){e.next=31;break}return e.abrupt("return");case 31:return e.next=33,X(o);case 33:u=e.sent,t({type:"FETCH_ICON_IN_USER_PAGE",payload:u});case 35:case"end":return e.stop()}}),e,null,[[3,9],[17,23]])})));return function(t,n){return e.apply(this,arguments)}}()))},getInfoOfCertificates:function(){e(function(){var e=Object(d.a)(h.a.mark((function e(t,n){var r,s,a,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n().state,s=r.certificates,a=Object(le.a)(s);try{for(c=function(){var e=i.value;e.imageUrl||X(e.ipfs).then((function(n){e.imageUrl=n,t({type:"GET_CERTIFICATES",payload:s})})).catch((function(e){console.error(e)})),!e.titleInIpfs&&e.title&&Z(e.title).then((function(n){e.titleInIpfs=n,t({type:"GET_CERTIFICATES",payload:s})})).catch((function(e){console.error(e)})),!e.descriptionInIpfs&&e.description&&Z(e.description).then((function(n){e.descriptionInIpfs=n,t({type:"GET_CERTIFICATES",payload:s})})).catch((function(e){console.error(e)}))},a.s();!(i=a.n()).done;)c()}catch(o){a.e(o)}finally{a.f()}case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},getInfoOfCertificatesIIssuesed:function(){e(function(){var e=Object(d.a)(h.a.mark((function e(t,n){var r,s,a,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n().state,s=r.certificatesIIssuesed,a=Object(le.a)(s);try{for(c=function(){var e=i.value;e.imageUrl||X(e.ipfs).then((function(n){e.imageUrl=n,t({type:"GET_CERTIFICATES_I_ISSUESED",payload:s})})).catch((function(e){console.error(e)})),!e.titleInIpfs&&e.title&&Z(e.title).then((function(n){e.titleInIpfs=n,t({type:"GET_CERTIFICATES_I_ISSUESED",payload:s})})).catch((function(e){console.error(e)})),!e.descriptionInIpfs&&e.description&&Z(e.description).then((function(n){e.descriptionInIpfs=n,t({type:"GET_CERTIFICATES_I_ISSUESED",payload:s})})).catch((function(e){console.error(e)}))},a.s();!(i=a.n()).done;)c()}catch(o){a.e(o)}finally{a.f()}case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},getInfoOfCertificatesIIssuesedInUserPage:function(){e(function(){var e=Object(d.a)(h.a.mark((function e(t,n){var r,s,a,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n().state,s=r.certificatesIIssuesedInUserPage,a=Object(le.a)(s);try{for(c=function(){var e=i.value;e.imageUrl||X(e.ipfs).then((function(n){e.imageUrl=n,t({type:"GET_CERTIFICATES_I_ISSUESED_IN_USER_PAGE",payload:s})})),e.titleInIpfs||Z(e.title).then((function(n){e.titleInIpfs=n,t({type:"GET_CERTIFICATES_I_ISSUESED_IN_USER_PAGE",payload:s})})).catch((function(e){console.error(e)})),e.descriptionInIpfs||Z(e.description).then((function(n){e.descriptionInIpfs=n,t({type:"GET_CERTIFICATES_I_ISSUESED_IN_USER_PAGE",payload:s})})).catch((function(e){console.error(e)}))},a.s();!(i=a.n()).done;)c()}catch(o){a.e(o)}finally{a.f()}case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},getInfoOfCertificatesInUserPage:function(){e(function(){var e=Object(d.a)(h.a.mark((function e(t,n){var r,s,a,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n().state,s=r.certificatesInUserPage,a=Object(le.a)(s);try{for(c=function(){var e=i.value;e.imageUrl||X(e.ipfs).then((function(n){e.imageUrl=n,t({type:"GET_CERTIFICATES_IN_USER_PAGE",payload:s})})).catch((function(e){console.error(e)})),e.titleInIpfs||Z(e.title).then((function(n){e.titleInIpfs=n,t({type:"GET_CERTIFICATES_IN_USER_PAGE",payload:s})})).catch((function(e){console.error(e)})),e.descriptionInIpfs||Z(e.description).then((function(n){e.descriptionInIpfs=n,t({type:"GET_CERTIFICATES_IN_USER_PAGE",payload:s})})).catch((function(e){console.error(e)}))},a.s();!(i=a.n()).done;)c()}catch(o){a.e(o)}finally{a.f()}case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},logout:function(){e(function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOGOUT",payload:null});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},loginWithGoogle:function(){e(function(){var e=Object(d.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return n=e.sent,r=T(n+"1"),t({type:"LOADING",payload:null}),e.next=7,r.init();case 7:console.log(r.address),t({type:"INITIALIZE_CLIENT",payload:r});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(Object(w.f)(oe));i.a.render(Object(_.jsx)(Oe.a,{store:ke,children:Object(_.jsx)(pe.a,{loading:null,persistor:Ne,children:Object(_.jsx)(U.a,{children:Object(_.jsx)(Ue,{})})})}),document.getElementById("root")),ue()}},[[773,1,2]]]);
//# sourceMappingURL=main.881c8e5a.chunk.js.map